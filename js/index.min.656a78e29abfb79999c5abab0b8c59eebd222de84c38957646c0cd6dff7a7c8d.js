(()=>{var b=[],e=8,i=13,j=27,k=37,f=39,g=82,h=83,c={next:()=>{let a=document.querySelectorAll('[aria-label="Next"]')[0];a&&(window.location=a.href)},prev:()=>{let a=document.querySelectorAll('[aria-label="Previous"]')[0];a&&(window.location=a.href)}},a={enabled:!1,accuracy:.8,val:"",el:void 0,init:function(){this.el=document.createElement("div"),this.el.setAttribute("id","search");let a=document.getElementsByClassName("title")[0];a&&a.parentElement.appendChild(this.el)},enable:function(){this.enabled=!0,this.el.classList.remove("hidden"),this.render()},disable:function(){this.enabled=!1,this.val="",this.el.innerHTML="",this.el.classList.add("hidden")},append:function(a){this.val+=a.toLowerCase(),this.render()},del:function(){this.val=this.val.slice(0,-1),this.render()},render:function(){let a="";b.filter(a=>this.fuzzy(a,this.val,this.accuracy)).forEach(b=>{let c="";for(let a=0;a<b.length;a++){let d=b[a],e=!1;for(let a=0;a<this.val.length;a++)d===this.val[a]?e=!0:e=!1;e?c+=`<span class="highlight">${d}</span>`:c+=d}a+=`<a href="/tags/${b}"><div>${c}</div></a>`}),this.el.innerHTML=a},bestMatch:function(){let a=b.filter(a=>this.fuzzy(a,this.val,this.accuracy));return a.length?a[0]:void 0},fuzzy:function(a,d,e){a=a.toLowerCase();let b=d.toLowerCase(),c=0;if(a.indexOf(b)>-1)return!0;for(let d=0;d<b.length;d++)a.indexOf(b[d])>-1?c+=1:c-=1;return c/a.length>=e||d==""}},d;if(document.addEventListener("keydown",b=>{switch(b.which){case k:c.prev(),b.preventDefault();break;case f:c.next(),b.preventDefault();break;case g:a.enabled?a.append(String.fromCharCode(b.keyCode)):window.location="/random";break;case h:a.enabled?a.append(String.fromCharCode(b.keyCode)):a.enable();break;case j:a.enabled&&a.disable();break;case e:a.enabled&&(a.del(),b.preventDefault());break;case i:if(a.enabled){let b=a.bestMatch();b&&(window.location="/tags/"+b)}break;default:a.enabled&&a.append(String.fromCharCode(b.keyCode));break}},!1),a.init(),d=document.getElementById("rotate"),d){let a=0;d.addEventListener("click",()=>{let b=document.getElementsByTagName("img")[0];b.setAttribute("style",`transform: rotate(${a+=90}deg)`)})}})()